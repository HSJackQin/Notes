## Python编程Tips

摘自【编写高质量代码 ——改善python程序的91个建议】

---
### 第一章 引论

- 编写函数的原则
  - 函数设计要尽可能短小，嵌套层次不易过深
  - 函数申明要合理，简单，易于使用，函数名要正确反映其大概功能，参数设计也要简洁明了，不易过多
  - 函数参数设计应考虑向下兼容
  - 一个函数只做一件事情，尽量保持函数语句粒度的一致性
  - 其他的好习惯
    - 不要在函数中定义可变对象作为默认值
    - 使用异常替换返回错误
    - 保证通过单元测试等

- 将常量集中到一个文件中去
  - 如需定义常量，可以采用自定义类，强制使用规范
  - 将常量的定义集中到一个文件中去，有利于维护

---
### 第二章 编程惯用法

- 不要过分相信type()
  - 必要时利用str()等函数先进行数据类型转换
  - 或采用isinstance()

- 数据交换时不推荐使用中间变量

- 尽量转换为浮点类型后再做除法
  - python3中不存在这个问题，但python2中存在
  - 解决方法：<1>转换浮点 <2>`from __future__ import division`
  - 注意：浮点的计算不是精确的，因此涉及浮点数的比较要指明精度！

- 警惕`eval()`！
  - eval is eval!
  - 如果使用对象不是信任源，应尽量避免使用`eval`，可以用安全性更好的`ast.literal_eval`代替

- 建议使用`enumerate()`获取序列迭代的索引和值
  - 本质是一个迭代器（回顾yield、next）
  - 字典的迭代循环，使用`iteritems()`

```python
for k,v in personinfo.iteritems():
    print k,":",v
```

- 区分`==`和`is`
  - 判断两个对象是否相等应使用==而不是is

- 建议18、构建合理的包层次来管理module