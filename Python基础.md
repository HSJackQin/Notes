### Python基础

参考：[廖雪峰的Python教程](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000)

**位运算**

- 二进制

- Tips
  - 可以用右移操作代替除2运算，执行效率高
  - 位运算的与，或，异或操作在对数字进行对比判断时很有用

**函数式编程**
  - 高阶函数
    - 把函数作为参数传入，这样的函数称为高阶函数，函数式编程就是指这种高度抽象的编程范式
    - 内建函数
      - map/reduce:注意map接受的是Iterable，并将结果作为Iterator返回
      - filter：用于过滤序列，且返回的也是一个惰性计算序列Iterator.
      - sorted：可以用关键字key实现一个映射函数进行自定义排序
  - 返回函数
    - 函数可以作为返回值，形成闭包，但该函数并未执行，因此需注意不要引用可能发生变化的变量
  - 匿名函数
  - 装饰器
  - 偏函数

**进程和线程**
  - 线程是最小的执行单元，而进程由至少一个线程组成。如何调度进程和线程，完全由操作系统决定
  - 多进程
    - UNIX下可以用fork()进行系统调用
    - multiprocessing是一个跨平台的多进程模块，可以用Process来创建一个子进程，也可以用Pool同时创建多个进程，Pool的默认大小是CPU的核数
    - 子进程的输入输出
    - 进程间的通信是通过Queue、Pipes等实现的
  - 多线程
    - 线程是操作系统直接支持的执行单元，高级语言通常内置对多线程的支持，Python的线程是Posix Thread，而不是模拟的线程
    - 可以利用threading模块创建Thread实例来启动一个线程
    - 一个进程默认启动的线程称为主线程，主线程又可以启动新的线程
    - 多线程&多进程最大的不同在于多线程所有变量由所有线程共享，因此为防止多线程同时更改一个变量，需要threading.Lock()创建锁，同时要防止死锁，这也是多线程的一个复杂的地方
    - Python有全局锁(Global Interpreter Lock)，导致多线程无法同时利用多核
      - 因为Python的线程虽然是真正的线程，但解释器执行代码时，有一个GIL锁：Global Interpreter Lock，任何Python线程执行前，必须先获得GIL锁，然后，每执行100条字节码，解释器就自动释放GIL锁，让别的线程有机会执行。这个GIL全局锁实际上把所有线程的执行代码都给上了锁，所以，多线程在Python中只能交替执行，即使100个线程跑在100核CPU上，也只能用到1个核。
    - ThreadLocal方法
      - ThreadLocal是全局变量，类似字典，每个线程都只能读写自己线程的独立副本（常用于为每个线程绑定特定的数据库连接，身份信息等），解决了参数在一个线程的不同函数之间相互传递的问题

    - 进程VS线程
      - 进程稳定，线程开销小，但不稳定
      - 线程切换
      - 计算密集型/IO密集型
      - 异步IO