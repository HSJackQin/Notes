### C++学习

参考资料：

《C++从入门到实践》 秦广军等编著，清华大学出版社

回头把本科用的《C++教材》拿来看看


#### 第一章 C++预备知识

- 面向对象的编程
  - 基本特征
    - 封装
    - 继承
    - 多态

#### 第二章 数据类型

1.数字运算型

  - 整型
     - 分为短整型，整型，长整型等
     - 表示各整型范围的宏定义（limits.h）可以直接作为常量引用
  - 实型
     - 实数表示
       - 单精度浮点型float，32位
       - 双精度浮点型double，64位

2.逻辑运算型
  - 与运算&&：在进行与运算时，尽量把最可能为假的放在前面，减小计算量（短路求值）
  - 或运算||：尽量把最可能为真的放在前面
  - 非运算！：放在表达式的左边，属于单目运算
  - 三种逻辑运算的优先级：非>与>或

3.字符型和字符串
  - 字符型char，8位长，用单引号
  - 转义符
  - 字符串：用双引号

4.复合类型
  - 枚举型、结构体、共用体、数组

### 第三章 变量和常量

- 变量
  - 变量不仅向编译器宣告变量的存在，而且同时为它分配所需的储存空间
  - 如果仅仅是向编译器说明将有一个变量存在，而不为它分配空间，叫做变量的声明，用关键字extern
  - 变量的储存分为局部**堆栈存储**、**全局存储**和**寄存器**
  - 按照变量的储存方式，可以划分为静态变量和动态变量，静态变量又可分为静态全局变量和静态局部变量
- 常量
  - 常量分为**符号常量**和**常变量**两种
    - 符号常量用#define定义，#undef取消，常用于C语言
    - 常变量关键字const，只能赋值一次，具有变量的一切性质

### 第四章 运算符

#### 1、算术运算符

#### 2、逻辑运算符

#### 3、关系运算符
  - 浮点数相等的比较方法：不能使用>=,而是通过比较它们差的绝对值是否小于某个数 
#### 4、位运算
  - 按位与&、按位或|、按位非~、按位异或^、按位左移<<、按位右移>>
#### 5、赋值
  - x+=y"与“x=x+y”功能一样，但实际上前者直接表示该内存的值增加y，而后者先将一个数字从内存中读出，计算x+y，再将计算结果写入内存，因此前者比后者速度快，往往可以在编译时被优化，生成更高效的代码

### 第五章 表达式

#### 1、定义和书写
  - 表达式结尾不能带分号，因为分号是语句的结束符，而表达式不是语句

#### 2、类型转换
  - 隐式类型转换
  即自动类型转换，由系统自动完成，可能向上转换，也可能向下转换。**向下转换不是四舍五入而是截断，因此可能会丢失精度**。
  - 显式类型转换
  C++的四种显示类型转换格式：
    - static_cast
    - dynamic_cast
    - reinterpret_cast
    - const_cast

### 第六章 语句

语句是程序的基础组成部分。它由一个或一组相互关联的表达式构成，以‘；’为结束标志。

#### 1、简单语句和语句块
- 简单语句是指仅有一个语句结束符，是单条语句。由于空语句在执行时不产生任何动作，所以常可以用来预留位置，或者做空循环体。
- 语句块一般以一对{}为标志，可以嵌套。C++中代码缩进仅仅有利于美观可读性，对编译器不起作用。可以先写好一对大括号再填充语句。

#### 2、程序的执行结构
##### 选择型语句
- if
  - 嵌套if时，最好把最可能为真的条件放在前面，这样可以尽量提前退出if结构，节省运行时间。
- switch
  - case
  - break
  - default
```cpp
switch(表达式)
    {
        case 常量1:
            ...
            break;
        case 常量2:
            ...
            break;
        default:
            ...
    }
```
##### 循环型语句
- while
```cpp
while (条件表达式)
{
    语句块;
}
```
- do...while
```cpp
do
{
    语句块;
}while(条件表达式);
```
- for
```cpp
for (初始化;条件表达式;表达式)
{
    语句块;
}
```
&emsp;&emsp; for语句头可以省略，但分号不能省略；头部也可以包含多条语句，用逗号隔开。在初始化部分定义的变量作用域仅限for循环体，如需体外可访，必须体外定义。

##### 标签语句
标签语句就是带有标记的语句；普通标签语句常用于goto语句的转移目标；case和default是两个特殊标签语句，仅用于switch结构中。

##### 跳转语句
常见的跳转语句：break、continue（仅用于三个循环结构中）、goto（不鼓励使用）

##### 语句嵌套
- 自增/自减
- 逗号语句：整个逗号语句的值是最后一个表达式的值
- ？语句：相当于一条if...else...
```cpp
条件表达式?表达式1 : 表达式2;
```

### 第七章 指针

指针是一个内存单元的地址，该地址是另一个变量数据的储存位置。保存一个地址需要32位，即4个字节。

#### 1、指针的定义方式

##### 定义
```cpp
type *pNode;
```
变量名是直接引用，指针是间接引用。

##### 指针的类型
根据所指向变量的类型，指针分为char,int,float,void,bool等类型。
指针也可以指向指针，称为多级指针。

#### 2、初始化
- 空指针
```cpp
int *pInt1 = 0;
int *pInt2 = NULL;
```
- 用内存地址给指针赋值
  - 用另一个指针初始化
  ```cpp
  char *p2 = p1;
  ```
  - 用变量的地址初始化
  ```cpp
  char var;
  char *p = var;
  ```
  - 用new分配内存单元
  ```cpp
  p = new type[<n>];
  ```
  当申请的内存不再使用时，必须回收：
  ```cpp
  delete []p;
  ```

#### 3、指针的运算

- 加减运算
指针的加减运算代表地址的移动
- 关系运算
要求两个指针必须具有相同的类型
  - 判断指针是否为空
  - 比较指针的相对位置

#### 4、指针的指针

多级指针意味着指针所指向的内容仍然是另一个指针变量的地址。
```cpp
type **ptr;
```
*的结合性是从右向左的；

#### 5、指针的使用

- 指针的赋值
```cpp
p1 = &var;
p1 = p2;
*p1 = var;
```
演示指针的赋值方法
```cpp
int main(void)
{
    int iVal = 5;
    int *p1 = &iVal;  \\取变量地址
    int *p2 = p1;     \\用指针赋值
    int *p3 = 0;      \\指针赋空值
    p3 = new int;     \\申请内存空间
    *p3 = 100;        \\修改所指内容
    delete p3;        \\释放
    p3 = 0;           \\置空
    return 0;
}
```

#### 6、引用与指针

引用就是别名或同义词，它是同一块内存单元的不同名称。用于替代传值方式，可节省内存复制带来的开销。
```cpp
type &ref = var;
```
引用与指针的**区别**:
(1)引用不开辟新的空间
(2)引用必须在声明时就初始化
(3)引用不能为空
(4)引用一旦被初始化，就不能再引用其他对象
(5)如果引用被const修饰，则可以直接在初始化时赋常量
(6)sizeof施加到引用上，测试的是被引对象的宽度，而用于指针时，则是测试指针本身的宽度

#### 7、特殊指针

- void型指针
```cpp
void *p;
```
- 空指针
```cpp
p = 0;
p = NULL;
```

#### 8、指针的命名规范

用英文单词，首字母大写：pNode、pArray等。

### 第八章 复合类型

复合类型是用C++的基本数据类型组合成更复杂的数据类型。它主要包括数组、枚举、结构体、共用体等类型。

#### 1、定义数组

在定义时可以指定为维数，也可以不指定，当不指定时数组的维数将用初始化值的个数隐式地指定。*动态数组*是指长度不定的数组，在编译时不知道数组的大小，而是在程序运行时根据用户的输入或给定的条件，来分配维数和内存。

#### 2、存储

计算机内存是一维的，多维数组的元素应排列成线性序列后存入存储器。一般分为按列存放(column order)和按行存放(row order)。C++一般是按行优先顺序存放的。如果利用存储地址、指针等方式来访问数组，可以提高效率。

#### 3、字符数组和字符串

字符数组是元素为字符的数组，字符串就是以'\0'结尾的字符数组。

#### 4、初始化

- 在定义时初始化
- 在赋值时初始化

#### 5、指针和数组

指针就是保存地址的变量，而数组名表示的是一个首地址，因此数组名就是指向该数组第一个元素的“指针”。
- 指向数组的指针：即定义一个指针来访问数组
```cpp
int Arr[5] = {1,2,3,4,5};   //定义数组
int *pArr1;     //定义指针
int *pArr2;
pArr1 = &Arr[0];    //指针指向数组的第一个元素
pArr2 = Arr;    //数组名Arr是一个指向数组第一个元素的地址
```

- 指针数组

#### 6、数组的使用

- 索引
- 指针

#### 7、枚举

#### 8、结构体

#### 9、共用体

#### 10、自定义型

### 第九章 函数

#### 1、函数的定义

- 无返回值类型的函数：void
- 有返回值类型，无形参
- 有返回值类型，有形参

函数的定义如果放在主程序main()函数之后，必须在main()函数前声明函数的原型。如果一个函数不得不用很多的参数，可以定义一个结构体来容纳这些参数。

#### 2、函数的类型

- 根据函数的返回值类型来划分：
```cpp
void func1();    //void型
int func2(int x, int y);    //整型
float func3(float left, float right);    //浮点型
char* func4(int x);    //指针函数
bool func5();    //布尔型
double func6(double x, double y);
```
- 根据作用域来划分
  - 内部函数
  由static关键字说明，该函数的作用域只限于说明它的文件，也成为局部函数或静态函数。
  - 外部函数
  定义函数时，在函数类型名前加extern关键字，则定义的是外部函数（全局函数）。在其他文件中调用外部函数时，应该用extern说明。
- 根据类成员函数特性来划分
  - 内联函数
  定义在类体内的成员函数。当定义在类外时，需要加inline关键字。
  - 外联函数
  函数的声明部分在类内，定义部分在类外的成员函数。

#### 3、函数的参数

形参是指定义时的形式参数；实参是指调用时的实际参数。

#### 4、返回值与返回语句

- return

#### 5、函数调用

- 单独调用
- 函数表达式调用
- 函数调用作为实参
- 参数传递方式

#### 6、递归函数

- 递归的两个要素：
  - 边界条件
  - 递归模式

#### 7、指向函数的指针

#### 8、函数作为参数

### 第十章 C++中的输入/输出

---

### 面向对象的C++程序设计

- 面向过程和面向对象到底有什么区别？？

- 面向对象的优点是什么？

- 面向对象编程的三大特点
  - 封装
&emsp;封装的目的在于把对象的设计和使用分开。封装阻止了系统间相互依赖而带来的变动影响。
面向对象的类是封装良好的模板，类定义将其说明（外部接口）和实现（内部实现）显式分开，其内部实现
按其具体定义的作用域提供保护。**封装**防止了系统间相互依赖而带来的变动影响。

  - 继承
&emsp;继承机制大大简化了对象和类的创建工作，提高了类的规范等级结构，提高了软件的重用性。

  - 多态
&emsp;多态是指同一个实体同时具有多种形式。它是一种将不同的特殊
行为泛化为单个特殊记号的机制。多态的性质可以从三个方面来理解：
**1.名字**，多态使用一致的名字调用
**2.实现**，每个对象的实现都完全不同。实现从相同名称调用不同实现，需要依赖对象的参数
和所处的位置决定。 
**3.环境**，环境就是指对象所处的上下文环境。调用多态对象时，传递给他的参数个数，
类型，以及该多态对象所属的对象的不同，就是多态对象的生存环境。这些因素决定了
调用哪个实现，区分了相同名称掩盖下的不同实现。C++的多态性具体体现在**运行**和**编译**两方面。
