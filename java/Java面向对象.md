### Java面向对象

- 秦晋琦 2019年6月

---



#### 多态

##### 多态的实现方式

- 重写
- 接口
- 抽象类和抽象方法

#### 抽象类

由于抽象类不能实例化对象，所以抽象类必须被继承，才能被使用。也是因为这个原因，通常在设计阶段决定要不要设计抽象类。

父类包含了子类集合的常见的方法，但是由于父类本身是抽象的，所以不能使用这些方法。

在Java中抽象类表示的是一种继承关系，一个类只能继承一个抽象类，而一个类却可以实现多个接口。

##### 抽象类和抽象方法总结

- 1. 抽象类不能被实例化(初学者很容易犯的错)，如果被实例化，就会报错，编译无法通过。只有抽象类的非抽象子类可以创建对象。
- 2. 抽象类中不一定包含抽象方法，但是有抽象方法的类必定是抽象类。
- 3. 抽象类中的抽象方法只是声明，不包含方法体，就是不给出方法的具体实现也就是方法的具体功能。
- 4. 构造方法，类方法（用 static 修饰的方法）不能声明为抽象方法。
- 5. 抽象类的子类必须给出抽象类中的抽象方法的具体实现，除非该子类也是抽象类，这样的话也必须保证后续的子类实现该抽象方法，否则，从最初的父类到最终的子类，都不能用来实例化对象。

#### 封装

在面向对象程式设计方法中，封装（英语：Encapsulation）是指一种将抽象性函式接口的实现细节部份包装、隐藏起来的方法。

封装可以被认为是一个保护屏障，防止该类的代码和数据被外部类定义的代码随机访问。

要访问该类的代码和数据，必须通过严格的接口控制。

##### 封装的优点

- 良好的封装能够减少耦合
- 类内部的结构可以自由修改
- 可以对成员变量进行更精确的控制
- 隐藏信息和实现细节

##### 实现封装的步骤

- 1. 修改属性的可见性来限制对属性的访问（一般限制为private）
  2. 对每个值属性提供对外的公共方法访问，也就是创建诸如getter和setter方法

示例:

```java
/* 文件名：EncapTest.java */
public class EncapTest {
    
    private String name;
    private String idNum;
    private int age;
    
    public int getAge(){
        return age;
    }
    
    public String getName(){
        return name;
    }
    
    public String getIdNum(){
        return idNum;
    }
    
    public void setAge(int newAge) {
        age = newAge;
    }
    
    public void setName(String newName){
        name = newName;
    }
    
    public void setIdNum(String newId) {
        idNum = newId;
    }
}
```

其他类该如何访问封装的变量：

```java
/* 文件名：RunEncap.java */
public class RunEncap{
    public static void main(String[] args){
        EncapTest encap = new EncapTest();
        encap.setName("James");
        encap.setAge(20);
        encap.setIdNum("12343ms")；
            
        System.out.print("Name : " + encap.getName() + 
                        " Age : " + encap.getAge());
    }
}
```

#### 接口

接口（英文：Interface），在JAVA编程语言中是一个抽象类型，是抽象方法的集合，接口通常以interface来声明。一个类通过继承接口的方式，从而来继承接口的抽象方法。

接口无法被实例化，但是可以被实现。一个实现接口的类，必须实现接口内所描述的所有方法，否则就必须声明为抽象类。另外，在 Java 中，接口类型可用来声明一个变量，他们可以成为一个空指针，或是被绑定在一个以此接口实现的对象

##### 接口的特性/与类的区别

##### 接口的声明

- `interface`关键字用来声明一个接口
- 特性：
  - 接口是隐式抽象的，当声明一个接口时，不必使用abstract关键字
  - 接口中的每一个方法也是隐式抽象的，声明时同样不需要使用abstract
  - 接口中的方法都是public的

##### 接口的实现

- 类使用implements关键字实现接口

##### 接口的继承

- 使用extends关键字进行继承
- 接口支持多继承

##### 标记接口

最常用的继承接口是没有包含任何方法的接口。没有任何方法和属性的接口称为标记接口。标记接口主要用于以下两种目的：

- 1. 建立一个公共的父接口
- 2. 向一个类添加数据类型



#### Java包（package）

一个包（package）可以定义为一组相互联系的类型（类、接口、枚举和注释），为这些类型提供访问保护和命名空间管理的功能。

由于包创建了新的命名空间（namespace），所以不会跟其他包中的任何名字产生命名冲突。使用包这种机制，更容易实现访问控制，并且让定位相关类更加简单。

##### 包的创建

##### `import`关键字

##### package的目录结构



---

#### Q:

- 子类不能拥有父类没有的方法？
- class之间相互可以看到，需要在同一个包内吗？还是只要在同一个工作路径下就可以？
- 每个java文件只能有一个类（还必须是同名类）？这涉及到编译
- print和println等有啥区别？
- 标记接口？